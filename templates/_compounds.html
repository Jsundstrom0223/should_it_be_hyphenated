<!DOCTYPE html>
<html>
    
<head>
    <link rel="stylesheet" href='/static/in.css' />
    <meta name="viewport" content="width=device-width">
</head>

<body>
           
    <div id="new_con">
        <div class="newb">
            <h1>Should it be hyphenated?
            Let's find out.</h1>
        </div>
    </div>
  
    {% if first_page %}
    <div id="new_con">
        <div class="newb" style="margin-left: 1em">
            <a href="/">Back to the main page</a>
        </div>
        <div class="newb">
        <h2>Enter a Compound Term</h2>
        <p>Please enter a term that you think may be hyphenated. Your search term
            should include only one hyphen with no spaces around it. 
            
            The term can include up to two cardinal or ordinal numbers. If there
            are numbers in your compound, please use numerals instead of the 
            spelled-out versions and omit any commas (e.g., "2nd-best," "1000-dollar," etc.);
            for fractions, please use two cardinal numbers separated by a hyphen (e.g., "1-2").</p>
    
        {% if mistake %}
            {% if no_hyphen %}
                <p>The input you provided lacks a hyphen ("-") or includes a hyphen with
                at least one space next to it. Please try again and ensure that your input
                includes one hyphen with no spaces around it (e.g., "well-being").</p>
           
            {% else %}
                <p>The input you provided includes multiple hyphens.
                    Please enter a compound that has only one hyphen (e.g., "well-being").</p>
            {% endif %}
            
        {% endif %}
    
        </div>
    </div>
    
    <form action="/_compounds.html" method="post">
        <label for="name" style="color: rgb(36, 101, 49)"></label> <input type="text" id="name" name="user_compound"/>
        <input type="submit" class="standard_submit" name="form_1"/>
        <p>
    </form>
    {% else %}

    {% macro closed_or_open(i) %} 
    <br> 
    <li>{{i[0]|capitalize}}: {{i[1]|capitalize}}
        <ul>        
            {% for k,v in i[2].items() %}
                <li>{{k|capitalize}}: {{v|trim("[]")|capitalize}}</li>
            {% endfor %}
        </ul>
    </li>
    {% endmacro %}

    {% macro pick_a_part(name, value='', st='', type = '', show = '') -%}
   
        <div id="column_container">
            <div class="newb">
                <p style="font-size: 1.25em"> Merriam-Webster's Collegiate® Dictionary lists the following definitions and senses for the words in your search term. For each part of your search term, review the definitions and associated senses; then select the part of speech that most closely matches your use from the drop-down menu.</p>
            </div>
         
        </div>

        <form action="/_compounds.html" method="post" id="gill">

        <fieldset style="border: solid transparent">
          
            <br>
            <hr style="background-color:  rgb(36, 101, 49); height: .25em; border: none;"></hr>
            <br>
            {% for i in value %}
            {% if comp_with_number %}
                {% if loop.first %}
                    {% set which = "second" %}
                    {% set term = st[1] %}
                    {% set sn = "non_numeric_element" %}
                    {% set g = show %}
                {% endif %}
            {% else %}
                {% if loop.first %}
                {% set which = "first" %}
                {% set term = st[0] %}
                {% set sn = "first_part_of_speech" %}
                {% set g = "" %}
                {% else %}
                    {% set which = "second" %}
                    {% set term = st[1] %}
                    {% set sn = "second_part_of_speech" %}
                    {% set g = "" %}
                {% endif %}
            {% endif %}
              
                <p style="margin-left: .66em; color: rgb(36, 101, 49); font-size: 1.75em;">{{g}}</p>
                
               
                <label style="margin-left: .66em; color: rgb(36, 101, 49); font-size: 1.75em;">The {{which}} term in your compound is "{{term}}." How is it being used?</label>
                
                {%for j in i%}
                
                    <p style="font-weight: bold; font-size: 1.5em">{{j.to_display|capitalize}}</p>
                    
                    {% if j.part_type == "number" %}
                    <p>{{j.to_display}}</p>

                    {% elif j.part_type != "one_of_diff_parts" %}
                        {% for k,v in j.definition.items() %}
                        <dd style="font-family: Georgia, serif; font-size: 1.25em; color: rgb(11, 64, 85);
                        margin-left: 3em;">{{v}}</dd>
                        {% endfor %}

                    {% elif j.part_type == "one_of_diff_parts" %}
                    {% for k, v in j.definition.items() %}
                      
                            <dd style="font-family: Georgia, serif; font-size: 1.25em; color: rgb(11, 64, 85);
                            margin-left: 3em;">{{v}}</dd>
                       
                    {% endfor %}

                    {% else %}
                        {% for d in j.definition %}
                            {% for k,v in d.items() %}
                                <dd style="font-family: Georgia, serif; font-size: 1.25em; color: rgb(11, 64, 85);
                                    margin-left: 3em;">{{k|capitalize}}
                                    <p>{{v|trim("[]{}'—")|capitalize}}</p>
                                </dd>
                            {% endfor %}
                        {% endfor %}

                    {% endif %}

                {% endfor %}
                <br>  
                    <select name = "{{sn}}" class="select">    
                        {% for j in i %}
                            {% set here = j.menu_option %}
                            <option value="{{here}}" class="option_value">{{j.menu_option | capitalize}}</option>
                        {% endfor %}
                        </select>   
                <br>
        {% endfor %}            
        <p>
        <input type="submit" class="standard_submit" style="font-size: 1em" name="part_of_speech_selections"/>
        
        </form>
        </fieldset>
        
    
    {% endmacro %}
    
    {% if comp_with_number %}
    
    <p>{{pick_a_part(part_selection, value=comp_with_number[1], st=search_term, show=comp_with_number[0].to_display) }}</p>
    {% endif %}
    
    
    {% if typo %}
        <h2>Oh no!</h2>
        <p>{{header}}</p>
        <p>{{typo}}</p>
        <p>To try again, click <a href="/_compounds.html">here.</a></p>
    
    {% else %}
        {% if standard %}
        {% if header %}
        <h2>{{header}}</h2>
        <p>{{standard}}</p>
        {% else %}
        <p>{{standard}}</p>
        {% endif %}
        {% endif %}

      
    

        {% if defs_to_show and search_term %}
        <p>{{pick_a_part(part_selection, value=defs_to_show, st=search_term) }}</p>

        {% endif %}

        {% if found_in_MW %}
        
            <p style="font-weight: bolder; color: rgb(36, 101, 49);
            font-size: 1.5em;">{{header}}</p>
                    
                {% for o in found_in_MW %}
                    <p style="margin-left: 2.5em; font-weight: bold">{{o.compound_type}}</p>
                    <p style="margin-left: 2.5em;">{{o.displayed_outcome}}</p>  
                    <br>
                {% endfor %}
                    
        {% endif %}

        <p>To enter another compound, click <a href="/_compounds.html">here.</a></p>

    {% endif %}
{% endif %}
</body>    
</html>